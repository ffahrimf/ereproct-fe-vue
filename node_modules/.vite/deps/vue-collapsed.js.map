{
  "version": 3,
  "sources": ["../../vue-collapsed/dist/index.mjs"],
  "sourcesContent": ["import { defineComponent as $, toRef as H, computed as x, ref as S, shallowRef as E, onMounted as I, watch as _, openBlock as L, createBlock as M, resolveDynamicComponent as U, normalizeStyle as O, withCtx as k, renderSlot as q, normalizeProps as z, guardReactiveProps as B } from \"vue\";\nconst R = \"--vc-auto-duration\", P = `height var(${R}) cubic-bezier(0.33, 1, 0.68, 1)`, p = { padding: 0 }, V = 300, Y = {\n  position: \"absolute\",\n  width: \"1px\",\n  height: \"1px\",\n  padding: \"0\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  border: \"0\"\n};\nfunction C(a) {\n  return a.value ? parseFloat(getComputedStyle(a.value).height) : 0;\n}\nfunction D(a) {\n  if (!a.value)\n    return {};\n  const { transition: n } = getComputedStyle(a.value);\n  return n === \"all 0s ease 0s\" || n === \"all\" ? { transition: P } : { transition: n };\n}\nfunction b(a) {\n  if (!a.value)\n    return !0;\n  const { transition: n } = getComputedStyle(a.value);\n  return typeof window.requestAnimationFrame > \"u\" || window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches || n.includes(\"none\") || n.includes(\"height 0s\");\n}\nfunction K(a = 0) {\n  if (a === 0)\n    return 0;\n  const n = a / 36, o = Math.round((4 + 15 * n ** 0.25 + n / 5) * 10);\n  return Number.isFinite(o) ? o : 0;\n}\nconst J = /* @__PURE__ */ $({\n  inheritAttrs: !0,\n  __name: \"Collapse\",\n  props: {\n    when: { type: Boolean },\n    baseHeight: { default: 0 },\n    as: { default: \"div\" }\n  },\n  emits: [\"collapse\", \"expand\", \"collapsed\", \"expanded\"],\n  setup(a, { emit: n }) {\n    const o = a, u = n, i = H(o, \"when\"), l = H(o, \"baseHeight\"), h = x(() => ({ overflow: \"hidden\", height: `${l.value}px` })), v = x(() => ({\n      ...p,\n      ...l.value === 0 ? { display: \"none\" } : h.value\n    })), t = S(null), f = S(i.value ? \"expanded\" : \"collapsed\"), c = (e) => f.value = e;\n    function N() {\n      return i.value ? p : l.value === 0 ? Y : v.value;\n    }\n    const g = E(N()), s = (e) => g.value = e, r = (e) => s({ ...g.value, ...e }), w = S(V), T = (e) => w.value = e, A = x(() => ({ [R]: `${w.value}ms` }));\n    let d = NaN;\n    function m() {\n      s(p), c(\"expanded\"), u(\"expanded\");\n    }\n    function y() {\n      s(v.value), c(\"collapsed\"), u(\"collapsed\");\n    }\n    I(() => {\n      if (!t.value)\n        return;\n      const e = K(t.value.scrollHeight - l.value);\n      e > 0 && T(e), !i.value && l.value === 0 && s(v.value);\n    }), _(i, (e) => {\n      if (t.value)\n        if (d = NaN, e) {\n          if (b(t))\n            return m();\n          c(\"expanding\"), u(\"expand\"), s({\n            ...p,\n            ...h.value,\n            ...A.value\n          }), requestAnimationFrame(() => {\n            if (t.value.scrollHeight === 0)\n              return m();\n            d = t.value.scrollHeight, r({\n              ...D(t),\n              height: `${d}px`,\n              willChange: \"height\"\n            });\n          });\n        } else {\n          if (b(t) || (c(\"collapsing\"), u(\"collapse\"), r({\n            ...A.value,\n            height: `${t.value.scrollHeight}px`\n          }), t.value.scrollHeight === 0))\n            return y();\n          requestAnimationFrame(() => {\n            r({\n              ...h.value,\n              ...D(t),\n              willChange: \"height\"\n            });\n          });\n        }\n    }), _(l, (e) => {\n      i.value || (e > 0 ? r({ display: void 0, height: `${e}px` }) : r({ display: \"none\" }));\n    });\n    function F(e) {\n      e.target && e.target === t.value && e.propertyName === \"height\" && (i.value ? Math.abs(t.value.scrollHeight - C(t)) < 1 ? m() : d < t.value.scrollHeight && r({\n        height: `${t.value.scrollHeight}px`\n      }) : Math.abs(l.value - C(t)) < 1 && y());\n    }\n    return (e, j) => (L(), M(U(o.as), {\n      ref_key: \"collapseRef\",\n      ref: t,\n      style: O(g.value),\n      onTransitionend: F,\n      \"data-collapse\": f.value\n    }, {\n      default: k(() => [\n        q(e.$slots, \"default\", z(B({ state: f.value })))\n      ]),\n      _: 3\n    }, 40, [\"style\", \"data-collapse\"]));\n  }\n});\nexport {\n  J as Collapse\n};\n"],
  "mappings": "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",
  "names": []
}
